{% extends "base.html" %}
{% block content %}

<h4 class="mb-3">Products</h4>

<form method="post" enctype="multipart/form-data" class="card p-3 mb-4">

    <div class="row mb-2">
        <div class="col-md-4">
            <label>Product Name</label>
            <input type="text" name="name" class="form-control" required>
        </div>
        <div class="col-md-2">
            <label>Volume</label>
            <input type="text" name="volume" class="form-control">
        </div>
        <div class="col-md-2">
            <label>Preform Weight (g)</label>
            <input type="number" step="0.001" name="preform_weight" class="form-control">
        </div>
        <div class="col-md-2">
            <label>Cap Type</label>
            <input type="text" name="cap_type" class="form-control">
        </div>
        <div class="col-md-2">
            <label>Image</label>
            <input type="file" name="image" class="form-control">
        </div>
    </div>

    <button class="btn btn-primary">Add Product</button>
</form>

<table class="table table-bordered table-sm">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Volume</th>
        <th>Preform Wt</th>
        <th>Cap</th>
        <th>Image</th>
    </tr>
    {% for p in products %}
    <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.volume }}</td>
        <td>{{ p.preform_weight }}</td>
        <td>{{ p.cap_type }}</td>
        <td>
            {% if p.image_path %}
                <a href="/{{ p.image_path }}" target="_blank">View</a>
            {% else %}
                -
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
